# SPDX-FileCopyrightText: 2023-2024 Sequent Tech <legal@sequentech.io>
#
# SPDX-License-Identifier: AGPL-3.0-only

FROM node:20-alpine

# Install Yarn
RUN apk add --no-cache yarn

# Install dependencies
WORKDIR /usr/src/app/

#copy only necessary files, exclude source code from the runtime image
COPY . /

RUN yarn --pure-lockfile --non-interactive
RUN yarn build:ui-essentials

EXPOSE 3000

ENTRYPOINT ["./init.sh", "start"]