client => {
    const test_url = "{url}";
    const otpLength = {otpLength}
    const otpCode = "{otpCode}";
    const validIdInput = "*[id='sequent.read-only.id-card-type']";
    const passwordInput = "*[type='password'][id='password']";
    const confirmPasswordInput = "*[type='password'][id='password-confirm']";
    const emailInput = "*[type=text][id='email']";
    const embassyInput = "*[id='embassy']";
    const termsCheckbox = "*[type=checkbox][name='termsOfService']";
    const submitButton = "*[type=submit]";
    
    const otpContainer = "*[id='otp-inputs']"

    client.url(test_url)
      .waitForElementVisible('body', 1000)
      .click(validIdInput)
      .waitForElementVisible(validIdInput + "option[value='Philippine Passport']", 2000)
      .click(validIdInput + " option[value='Philippine Passport']")
      .setValue(passwordInput, 'Pass12345*')
      .setValue(confirmPasswordInput, 'Pass12345*')
      .setValue(emailInput, 'test@example.com') 
      .click(embassyInput)
      .waitForElementVisible(embassyInput + " option[value='Tokyo PE']", 2000)
      .click(embassyInput + " option[value='Tokyo PE']")
      .click(termsCheckbox)
      .takeScreenshot( `enrollment.png`)
      .click(submitButton)


      client.waitForElementVisible(otpContainer,2000)
      for (let i = 1; i <= otpLength; i++) {
            client.setValue(`*[id='otp-${i}']`, otpCode.at(i - 1));
      }
      client.takeScreenshot( `otp.png`)
      .click(submitButton)

}