<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Report</title>
    <style>

      body {
        font-family: Arial, sans-serif;
      }

      .header,
      .header-space {
        height: 80px;
      }

      .footer,
      .footer-space {
        height: 50px;
      }

      .header {
        position: fixed;
        top: 0;
        width: 100%;
        text-align: center;
      }

      .header .logo {
        /* padding-right: 0.5cm; */
      }

      .footer {
        position: fixed;
        bottom: 0;
      }

      @page {
        size: A4;
        margin: 1cm;
      }

      @page: right {
        @bottom-right {
          content: counter(page);
        }
      }

      table {
        width: 100%;
      }

      .content .title {
        text-align: center;
      }

      .content table {
        border-collapse: collapse;
        margin: 20px 0;
      }

      .content th,
      .content td {
        border: 1px solid #dddddd;
        padding: 8px;
      }

      .content th {
        text-align: center;
      }

      .content th {
        background-color: #4caf50;
        color: white;
      }
    </style>
  </head>
  <body>

  <div class="header">
    <img class="logo" src="https://sequentech.io/wp-content/uploads/2022/05/Sequent-logo-positive-1.svg" />
  </div>

  <div class="footer">
    <!-- We can add a footer here -->
  </div>

  <table>
    <thead>
      <tr>
        <td>
          <div class="header-space">&nbsp;</div>
        </td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>
          <div class="content">
              <h1 class="title">Results of the election</h1>

              {{#each reports as |report|}}
                <h2>Contest: {{report.contest.name}}</h2>
                <p class="contest-desc">{{report.contest.description}}</p>

                <table>
                  <tr>
                    <th colspan="2">Configuration Data</th>
                  </tr>
                  <tr>
                    <td>Tally System</td>
                    <td>
                      {{report.contest.voting_type}},
                      {{report.contest.counting_algorithm}}
                    </td>
                  </tr>
                  <tr>
                    <td>Minimum number of option a voter can select</td>
                    <td>{{report.contest.min_votes}}</td>
                  </tr>
                  <tr>
                    <td>Maximum number of option a voter can select</td>
                    <td>{{report.contest.max_votes}}</td>
                  </tr>
                </table>

                <table>
                  <tr>
                    <th colspan="2">Participation</th>
                  </tr>
                  <tr>
                    <td>Total number of votes cast</td>
                    <td>{{report.contest_result.total_votes}}</td>
                  </tr>
                  <tr>
                    <td>Blank votes</td>
                    <td>{{ report.contest_result.invalid_votes.blank }}</td>
                  </tr>
                  <tr>
                    <td>Explicit invalid votes</td>
                    <td>{{ report.contest_result.invalid_votes.explicit }}</td>
                  </tr>
                  <tr>
                    <td>Implicit invalid votes</td>
                    <td>{{ report.contest_result.invalid_votes.implicit}}</td>
                  </tr>
                  <tr>
                    <td>Total number of votes for candidates</td>
                    <td>todo</td>
                  </tr>
                </table>

                <table>
                  <tr>
                    <th colspan="3">Candidate result</th>
                  </tr>
                  <tr class="">
                    <td>Name</td>
                    <td>Points</td>
                    <td>Winning Position</td>
                  </tr>
                  {{#each report.candidate_result as |candidate|}}
                    <tr class="">
                      <td>{{candidate.candidate.name}}</td>
                      <td>{{candidate.total_count}}</td>
                      <td>{{candidate.winning_position}}</td>
                    </tr>
                  {{/each}}
                </table>

              {{/each}}
            </div>
        </td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td>
          <div class="footer-space">&nbsp;</div>
        </td>
      </tr>
    </tfoot>
  </table>
  </body>
</html>
