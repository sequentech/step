<div class="report">
  <!-- MAIN section -->
  <table align="center" style="width: 100%">
    <tr>
      <td style="text-align: center; padding: 10px 0">
        <div style="width: 100%">
          <!-- Inner table section -->
          <table style="width: 100%" class="top-header">
            <!-- End of report section -->
            <tr>
              <td align="left">
                <table style="width: 100%">
                  <tr>
                    <td class="left">
                      <div>
                        <p>
                          {{datetime from_rfc3339=execution_annotations.date_printed output_format="%B %d, %Y %H:%M"
                          with_timezone="UTC"}}
                        </p>
                      </div>
                    </td>
                    <td class="right copy">
                      <div />
                    </td>
                  </tr>
                </table>
              </td>
            </tr>
            <!-- End of report section -->
            <!-- Document header block -->
            <tr>
              <td>
                <table class="main-header">
                  <td width="23%" class="left" valign="top">
                    
                    <img
                      src="sequent-logo.svg" />
                    
                  </td>
                  <td width="54%" class="center">
                    <div class="country">SEQUENT ONLINE VOTING</div>
                    <div class="commission">COMMISSION ON ELECTIONS</div>
                    <div class="election-date">
                      {{datetime from_rfc3339=execution_annotations.date_printed output_format="%B %d, %Y"
                      with_timezone="UTC"}}
                    </div>
                    <div class="election-name">
                      {{sanitize_html (expr election_event_title)}}
                    </div>
                    <div class="online">ONLINE VOTING AND COUNTING SYSTEM</div>
                    <div class="voting-period">
                      Voting Period: {{datetime
                      from_rfc3339=election_dates.scheduled_event_dates.ALLOW_INIT_REPORT.scheduled_at
                      output_format="%d %B %Y" with_timezone="UTC"}} - {{datetime
                      from_rfc3339=election_dates.scheduled_event_dates.END_VOTING_PERIOD.scheduled_at
                      output_format="%d %B %Y"
                      with_timezone="UTC"}}
                    </div>

                  </td>
                  <td width="23%" class="right" valign="top">
                    sequent-logo.svg
                    <img
                      src="" />
                    
                  </td>
                </table>
              </td>
            </tr>
            <!-- Document header block -->
          </table>
        </div>
      </td>
    </tr>
    <!-- Inner table section -->

    <!-- Main itle -->
    <tr class="main-title">
      <td align="center">
        <p>
          <strong>AUDIT LOGS</strong>
        </p>
      </td>
    </tr>
    <!-- Main itle -->

    <!-- Additional sections -->
    <tr>
      <td>
        <div>
          <table class="stats-table">
            <tr>
              <td class="key">
                <strong>Geographical Region:</strong>
              </td>
              <td class="value">
                {{sanitize_html (expr geographical_region)}}
              </td>
            </tr>
            <tr>
              <td class="key post">
                <strong>Post:</strong>
              </td>
              <td class="value">
                {{sanitize_html (expr post)}}
              </td>
            </tr>
            <tr>
              <td class="key">
                <strong>Voting Center:</strong>
              </td>
              <td class="value">
                {{sanitize_html (expr voting_center)}}
              </td>
            </tr>
            <tr>
              <td class="key">
                <strong>Clustered Precinct ID:</strong>
              </td>
              <td class="value">
                {{sanitize_html (expr station_id)}}
              </td>
            </tr>
            <tr>
              <td class="key">
                <strong>Precincts in the Cluster:</strong>
              </td>
              <td class="value">
                {{sanitize_html (expr station_name)}}
              </td>
            </tr>
          </table>
          <table class="stats-table">
            <tr>
              <td class="key">
                <strong>Number of Registered Voters:</strong>
              </td>
              <td class="value">
                {{format_u64 registered_voters}}
              </td>
            </tr>
            <tr>
              <td class="key">
                <strong>Number of Ballots Counted:</strong>
              </td>
              <td class="value">
                {{format_u64 ballots_counted}}
              </td>
            </tr>
            <tr>
              <td class="key">
                <strong>Voters Turnout (%):</strong>
              </td>
              <td class="value">{{format_percentage voters_turnout}}%</td>
            </tr>
          </table>
        </div>
      </td>
    </tr>
    <!-- END of additional sections -->
    <!-- Title secondary section -->
            <tr>
              <td align="center">
                  <p class="sequences-title">
                    <strong>RECORDS</strong>
                  </p>
              </td>
            </tr>
            <!-- END Title secondary section -->
            <!-- Additional sections -->
            <tr>
              <td class="sequences-container">
                <div class="sequences">
                  <table style="width: 100%; border: 1px solid black; border-collapse: collapse; ">
                    <thead>
                      <tr>
                        <td
                        class="sequence-data"
                        style="width: 40px; white-space: normal; overflow-wrap: break-word;"
                        >
                          <strong>Sequence Number (#)</strong>
                        </td>
                        <td
                          class="sequence-data"
                          style="width: 60px; white-space: normal; overflow-wrap: break-word;"
                        >
                          <strong>Date and time</strong>
                        </td>
                        <td
                          class="sequence-data"
                          style="width: 40px;"
                        >
                          <strong>User</strong>
                        </td>
                        <td
                          class="sequence-data"
                          style="width: 30px; white-space: normal; overflow-wrap: break-word;"
                        >
                          <strong>User kind</strong>
                        </td>
                        <td
                          class="sequence-data"
                        >
                          <strong>Activity</strong>
                        </td>
                      </tr>
                    </thead>
                    <tbody>
                      {{#each sequences}}
                      <tr>
                        <td class="sequence-data">{{format_u64 number}}</td>
                        <td
                          class="sequence-data"
                        >
                          {{datetime from_rfc3339=datetime output_format="%B %d" with_timezone="UTC"}}
                          <br />
                          {{datetime from_rfc3339=datetime output_format="%Y, %H:%M" with_timezone="UTC"}}
                        </td>
                        <td
                          class="sequence-data"
                          style="white-space: normal; overflow-wrap: anywhere;"
                          
                        >
                         {{username}}
                        </td>
                        <td
                          class="sequence-data"
                        >
                          {{userkind}}
                        </td>
                        <td
                          class="sequence-data"
                          style="white-space: normal; overflow-wrap: break-word;"
                        >
                          {{activity}}
                        </td>
                      </tr>
                      {{/each}}
                    </tbody>
                  </table>
                </div>
              </td>
            </tr>
            <!-- END of additional sections -->

    <!-- Paragraph section -->
    <tr>
      <td>
        <div class=" paragraph" align="left">
          <strong>WE, THE UNDERSIGNED BOARD OF ELECTION INSPECTORS</strong>
          of {{sanitize_html (expr post)}} and Clustered Precinct ID {{sanitize_html (expr station_id)}},
          do hereby certify under oath that above information are true as generated by the Online Voting and Counting System for {{area_id}}
          on {{datetime from_rfc3339=signature_date output_format="%B %d, %Y %H:%M" with_timezone="UTC"}} (host's government time).
        </div>
      </td>
    </tr>
    <!-- END Paragraph section -->

    <!-- Title secondary section -->
    <tr>
      <td class="inspectors-title">
        <div>
          <p>
            <strong>The Board of Election Inspectors</strong>
          </p>
        </div>
      </td>
    </tr>
    <!-- END Title secondary section -->
    <!-- Main signature section -->
    {{#each inspectors}}
    <tr>
      <td class="inspector-signature" align="center">
        <div class="box"></div>
        <p>Right Thumbmark</p>
        <p>
          <strong class="inspector-name">{{sanitize_html (expr name)}}</strong>
          <br />(Signature above printed full name)
        </p>
      </td>
    </tr>
    {{/each}}
    <!-- END Main signature section -->
    <!-- Title secondary section -->
    <!-- QR CODES section -->
    <tr>
      <td class="qr-codes" align="center">
        <div>
          <div class="qrcode" id="qrcode"></div>
        </div>
      </td>
    </tr>
    <!-- END QR CODES section -->
    <!-- END Title secondary section -->

    <!-- Left paragraph section -->
    <tr>
      <td class="sys-info" align="left">
        <div>
           <span class="word-break">Results hash: {{sanitize_html (expr execution_annotations.results_hash)}}</span><br />
          <span class="word-break">Report hash: {{sanitize_html (expr execution_annotations.report_hash)}}</span><br />
          <br />
          Software version: {{sanitize_html (expr execution_annotations.software_version)}}<br />
          System hash: {{sanitize_html (expr execution_annotations.app_hash)}}
        </div>
      </td>
    </tr>
    <!-- END Left paragraph section -->

    <!-- End of report section -->
    <tr>
      <td class="report-end" align="center">
        <div>
          <p>End of Report</p>
          <hr />
        </div>
      </td>
    </tr>
    <!-- End of report section -->
  </table>
  <!-- MAIN section -->
</div>
<script>
  let reportHash = '{{{execution_annotations.report_hash}}}';
  let systemHash = '{{{execution_annotations.app_hash}}}';
  let softwareVersion = '{{{execution_annotations.software_version}}}';
  let ovcsVersion = '{{{execution_annotations.app_version}}}';
  let date = `{{datetime from_rfc3339=execution_annotations.date_printed output_format="%B %d, %Y %H:%M"
                          with_timezone="UTC"}}`
  let user = '{{expr execution_annotations.executer_username}}'

  const qrcode = new QRCode(document.getElementById("qrcode"), {
    text:
      `AUDIT LOGS: report hash:${reportHash}, system hash: ${systemHash}, software version: ${softwareVersion}, ovcs version: ${ovcsVersion}, date and time: ${date}, user who generated: ${user}`,
    width: 180, height: 180, colorDark: '#000000', colorLight: '#ffffff',
    correctLevel: QRCode.CorrectLevel.M,
  });
</script>