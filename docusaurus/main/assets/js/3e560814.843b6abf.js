"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2989],{5994:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"integrations/idp_initiated_sso_integration_guide","title":"IdP-Initiated SSO Integration","description":"\x3c!--","source":"@site/docs/integrations/idp_initiated_sso_integration_guide.md","sourceDirName":"integrations","slug":"/integrations/idp_initiated_sso_integration_guide","permalink":"/docusaurus/main/docs/integrations/idp_initiated_sso_integration_guide","draft":false,"unlisted":false,"editUrl":"https://github.com/sequentech/step/edit/main/docs/docusaurus/docs/integrations/idp_initiated_sso_integration_guide.md","tags":[],"version":"current","frontMatter":{"id":"idp_initiated_sso_integration_guide","title":"IdP-Initiated SSO Integration"}}');var t=i(4848),r=i(8453);const l={id:"idp_initiated_sso_integration_guide",title:"IdP-Initiated SSO Integration"},o="IdP-Initiated SAML SSO Integration Guide",d={},a=[{value:"Overview",id:"overview",level:2},{value:"What is IdP-Initiated SSO?",id:"what-is-idp-initiated-sso",level:3},{value:"Architecture Overview",id:"architecture-overview",level:3},{value:"Integration Approach",id:"integration-approach",level:2},{value:"Step 1: Get Configuration from Sequent",id:"step-1-get-configuration-from-sequent",level:2},{value:"Step 2: Set Up the Reference Implementation",id:"step-2-set-up-the-reference-implementation",level:2},{value:"2.1 Clone and Navigate",id:"21-clone-and-navigate",level:3},{value:"2.2 Configure Environment",id:"22-configure-environment",level:3},{value:"2.3 Start SimpleSAMLphp",id:"23-start-simplesamlphp",level:3},{value:"2.4 Set Up ngrok Tunnel (Required for Staging Testing)",id:"24-set-up-ngrok-tunnel-required-for-staging-testing",level:3},{value:"2.5 Access the Reference Implementation",id:"25-access-the-reference-implementation",level:3},{value:"Step 3: Provide Your Metadata to Sequent",id:"step-3-provide-your-metadata-to-sequent",level:2},{value:"Step 4: Test the Integration",id:"step-4-test-the-integration",level:2},{value:"4.1 Test End-to-End Flow",id:"41-test-end-to-end-flow",level:3},{value:"4.2 Verify the Flow",id:"42-verify-the-flow",level:3},{value:"4.3 Common Test Issues",id:"43-common-test-issues",level:3},{value:"Step 5: Understand How It Works",id:"step-5-understand-how-it-works",level:2},{value:"5.1 Centralized Configuration",id:"51-centralized-configuration",level:3},{value:"5.2 Service Provider Metadata",id:"52-service-provider-metadata",level:3},{value:"5.3 IdP Metadata",id:"53-idp-metadata",level:3},{value:"5.4 SSO Trigger Page",id:"54-sso-trigger-page",level:3},{value:"5.5 User Authentication Configuration",id:"55-user-authentication-configuration",level:3},{value:"5.6 SAML Assertion Requirements",id:"56-saml-assertion-requirements",level:3},{value:"Step 6: Adapt to Your Production IdP",id:"step-6-adapt-to-your-production-idp",level:2},{value:"For ADFS",id:"for-adfs",level:3},{value:"For Okta",id:"for-okta",level:3},{value:"For Shibboleth",id:"for-shibboleth",level:3},{value:"For Custom IdP",id:"for-custom-idp",level:3},{value:"Step 7: Production Checklist",id:"step-7-production-checklist",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Debug Tools",id:"debug-tools",level:3},{value:"Security Requirements",id:"security-requirements",level:2},{value:"Critical",id:"critical",level:3},{value:"Support",id:"support",level:2},{value:"Summary",id:"summary",level:2},{value:"What You Did",id:"what-you-did",level:3},{value:"Key Files to Reference",id:"key-files-to-reference",level:3},{value:"Remember",id:"remember",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"idp-initiated-saml-sso-integration-guide",children:"IdP-Initiated SAML SSO Integration Guide"})}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(n.p,{children:["This guide is for ",(0,t.jsx)(n.strong,{children:"third-party organizations"})," integrating their Identity\nProvider (IdP) with Sequent's voting platform using IdP-initiated SAML 2.0\nSingle Sign-On (SSO)."]}),"\n",(0,t.jsx)(n.h3,{id:"what-is-idp-initiated-sso",children:"What is IdP-Initiated SSO?"}),"\n",(0,t.jsxs)(n.p,{children:["In IdP-initiated SSO, users begin their authentication journey at\n",(0,t.jsx)(n.strong,{children:"your identity provider"})," and are then redirected to Sequent's voting platform\nwith an established authentication session. This allows your users to:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Start at your organization's portal or login page"}),"\n",(0,t.jsx)(n.li,{children:"Authenticate using your existing authentication system"}),"\n",(0,t.jsx)(n.li,{children:"Be automatically logged into Sequent's voting platform"}),"\n",(0,t.jsx)(n.li,{children:"Access the voting interface without additional login prompts"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,t.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant User as User Browser\n    participant YourIdP as Your Identity Provider\n    participant SequentAuth as Sequent Authentication Service\n    participant VotingPortal as Sequent Voting Portal\n\n    User->>YourIdP: 1. Access IdP-Initiated SSO URL\n    YourIdP->>User: 2. Prompt for authentication (if needed)\n    User->>YourIdP: 3. Submit credentials\n    YourIdP->>YourIdP: 4. Generate SAML assertion\n    YourIdP->>User: 5. POST SAML response to Sequent\n    User->>SequentAuth: 6. Forward SAML response\n    SequentAuth->>SequentAuth: 7. Validate & create session\n    SequentAuth->>User: 8. Redirect to voting portal\n    User->>VotingPortal: 9. Access voting interface (authenticated)"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"integration-approach",children:"Integration Approach"}),"\n",(0,t.jsxs)(n.p,{children:["This guide uses Sequent's ",(0,t.jsx)(n.strong,{children:"SimpleSAMLphp reference implementation"})," as the primary integration method. This implementation:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Demonstrates all patterns and configurations needed"}),"\n",(0,t.jsx)(n.li,{children:"Can be run locally to test against Sequent's staging"}),"\n",(0,t.jsx)(n.li,{children:"Provides working code you can adapt to your platform"}),"\n",(0,t.jsx)(n.li,{children:"Shows exactly how to construct URLs and metadata"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"You will:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Get the reference implementation working with Sequent staging"}),"\n",(0,t.jsx)(n.li,{children:"Understand how it works by reviewing the code"}),"\n",(0,t.jsx)(n.li,{children:"Adapt the patterns to your production IdP (ADFS, Okta, Shibboleth, etc.)"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"step-1-get-configuration-from-sequent",children:"Step 1: Get Configuration from Sequent"}),"\n",(0,t.jsx)(n.p,{children:"Contact Sequent technical support to request your integration parameters. You'll receive:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Example"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"TENANT_ID"})}),(0,t.jsx)(n.td,{children:"Your organization's tenant UUID"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"abc12345-6789-..."})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"EVENT_ID"})}),(0,t.jsx)(n.td,{children:"Your voting event UUID"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"def67890-1234-..."})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"SP_BASE_URL"})}),(0,t.jsx)(n.td,{children:"Sequent's authentication service URL"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"https://login-example.sequent.vote"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"VOTING_PORTAL_URL"})}),(0,t.jsx)(n.td,{children:"Voting portal base URL"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"https://voting-example.sequent.vote"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"SP_IDP_ALIAS"})}),(0,t.jsx)(n.td,{children:"Your IdP identifier"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"yourcompany-idp"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"SP_CLIENT_ID"})}),(0,t.jsx)(n.td,{children:"SAML client ID"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"vp-sso"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"SP_CERT_DATA"})}),(0,t.jsx)(n.td,{children:"Sequent's public certificate"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"MIIDOzCCAi..."})," (base64)"]})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Save these values"})," - you'll use them in the next step."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"step-2-set-up-the-reference-implementation",children:"Step 2: Set Up the Reference Implementation"}),"\n",(0,t.jsx)(n.h3,{id:"21-clone-and-navigate",children:"2.1 Clone and Navigate"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Clone the Step repository\ngit clone <step-repo-url>\ncd step/.devcontainer/\n"})}),"\n",(0,t.jsx)(n.h3,{id:"22-configure-environment",children:"2.2 Configure Environment"}),"\n",(0,t.jsx)(n.p,{children:"Copy the environment template and fill in your values:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cp .env.development .env\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Edit ",(0,t.jsx)(n.code,{children:".devcontainer/.env"})," with the configuration from Step 1. Note that there\nare more environment variables that can be edited, but the most important one\nto make this work are the following:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Your local IdP URLs (for development)\nIDP_BASE_URL=http://localhost:8083/simplesaml\nIDP_HOSTNAME=localhost:8083\n\n# Example users for testing SimpleSAMLphp authentication\n# Format: "username1:password1:email1,username2:password2:email2,..."\n# You can customize these for your testing needs\nSSP_EXAMPLE_USERS=user1:password:user1@example.com,user2:password:user2@example.com\n\n# Sequent configuration (from Step 1)\nTENANT_ID=<your-tenant-id>\nEVENT_ID=<your-event-id>\nSP_BASE_URL=https://login-example.sequent.vote\nSP_IDP_ALIAS=yourcompany-idp\nSP_CLIENT_ID=vp-sso\nSP_CERT_DATA=<certificate-from-sequent>\nVOTING_PORTAL_URL=https://voting-example.sequent.vote\n'})}),"\n",(0,t.jsxs)(n.admonition,{type:"note",children:[(0,t.jsxs)(n.p,{children:["The variables above appear in the ",(0,t.jsx)(n.code,{children:".devcontainer/.env"})," file under the section\ntitled ",(0,t.jsx)(n.code,{children:"SimpleSAMLphp Id Configuration"})," that starts as it is shown below:"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"################################################################################\n# SimpleSAMLphp IdP Configuration\n# These variables configure the SimpleSAMLphp instance as a reference IdP\n# implementation for third-party integrators.\n\n# =============================================================================\n# Simple SAML PHP General Configuration\n# =============================================================================\n"})})]}),"\n",(0,t.jsx)(n.h3,{id:"23-start-simplesamlphp",children:"2.3 Start SimpleSAMLphp"}),"\n",(0,t.jsx)(n.p,{children:"Using Docker (recommended):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd .devcontainer/\ndocker-compose up simplesamlphp\n"})}),"\n",(0,t.jsx)(n.h3,{id:"24-set-up-ngrok-tunnel-required-for-staging-testing",children:"2.4 Set Up ngrok Tunnel (Required for Staging Testing)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Why ngrok is needed:"})," Your SimpleSAMLphp runs locally on ",(0,t.jsx)(n.code,{children:"localhost:8083"}),",\nbut Sequent's staging environment needs to reach your IdP to fetch metadata and\nvalidate signatures. ngrok creates a public URL that tunnels to your local\ninstance."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Install ngrok:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Download from https://ngrok.com/download\n# Or install via package manager:\nbrew install ngrok  # macOS\nsnap install ngrok  # Linux\nchoco install ngrok # Windows\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Start ngrok tunnel:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ngrok http 8083\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"You'll see output like:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Forwarding  https://abc123.ngrok.io -> http://localhost:8083\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Update your configuration"})," with the ngrok URL:"]}),"\n",(0,t.jsxs)(n.p,{children:["Edit ",(0,t.jsx)(n.code,{children:"simplesamlphp/.env"})," and change:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Before:\nIDP_BASE_URL=http://localhost:8083/simplesaml\nIDP_HOSTNAME=localhost:8083\n\n# After (use your ngrok URL):\nIDP_BASE_URL=https://abc123.ngrok.io/simplesaml\nIDP_HOSTNAME=abc123.ngrok.io\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Restart SimpleSAMLphp"})," to pick up the new configuration:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker-compose restart simplesamlphp\n"})}),"\n",(0,t.jsx)(n.h3,{id:"25-access-the-reference-implementation",children:"2.5 Access the Reference Implementation"}),"\n",(0,t.jsx)(n.p,{children:"Once running with ngrok, access:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Admin interface:"})," ",(0,t.jsx)(n.code,{children:"https://abc123.ngrok.io/simplesaml/"})," (use your ngrok URL)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"IdP metadata:"})," ",(0,t.jsx)(n.code,{children:"https://abc123.ngrok.io/simplesaml/saml2/idp/metadata.php"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"SSO trigger page:"})," ",(0,t.jsx)(n.code,{children:"https://abc123.ngrok.io/simplesaml/idp-initiated-sso.php"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Important:"})," Keep ngrok running throughout your testing session. If you restart ngrok, you'll get a new URL and need to update configuration again."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"step-3-provide-your-metadata-to-sequent",children:"Step 3: Provide Your Metadata to Sequent"}),"\n",(0,t.jsx)(n.p,{children:"Sequent needs your IdP metadata to configure trust. Provide:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"IdP Metadata URL:"})," ",(0,t.jsx)(n.code,{children:"http://localhost:8083/simplesaml/saml2/idp/metadata.php"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Or download and send the XML file"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"IdP Entity ID:"})," Found in the metadata (will be ",(0,t.jsx)(n.code,{children:"http://localhost:8083/simplesaml/saml2/idp/metadata.php"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"IdP SSO URL:"})," ",(0,t.jsx)(n.code,{children:"http://localhost:8083/simplesaml/saml2/idp/SSOService.php"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Public Certificate:"})," Found in ",(0,t.jsx)(n.code,{children:".devcontainer/simplesamlphp/cert/server.crt"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"For testing:"})," Sequent will configure their staging environment to accept assertions from your local SimpleSAMLphp instance."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"step-4-test-the-integration",children:"Step 4: Test the Integration"}),"\n",(0,t.jsx)(n.h3,{id:"41-test-end-to-end-flow",children:"4.1 Test End-to-End Flow"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Open browser to: ",(0,t.jsx)(n.code,{children:"http://localhost:8083/simplesaml/idp-initiated-sso.php"})]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:'"Login to Voting Portal"'})]}),"\n",(0,t.jsxs)(n.li,{children:["Authenticate with test credentials (as configured in ",(0,t.jsx)(n.code,{children:"SSP_EXAMPLE_USERS"}),"):","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Default: Username: ",(0,t.jsx)(n.code,{children:"user1"})," / Password: ",(0,t.jsx)(n.code,{children:"password"})]}),"\n",(0,t.jsxs)(n.li,{children:["Or: Username: ",(0,t.jsx)(n.code,{children:"user2"})," / Password: ",(0,t.jsx)(n.code,{children:"password"})]}),"\n",(0,t.jsxs)(n.li,{children:["You can customize these users by editing the ",(0,t.jsx)(n.code,{children:"SSP_EXAMPLE_USERS"})," environment variable"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"You should be redirected to Sequent's staging voting portal"}),"\n",(0,t.jsx)(n.li,{children:"Verify you're logged in"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"42-verify-the-flow",children:"4.2 Verify the Flow"}),"\n",(0,t.jsxs)(n.p,{children:["Use the ",(0,t.jsx)(n.a,{href:"https://chromewebstore.google.com/detail/saml-tracer/mpdajninpobndbfcldcmbpnnbhibjmch",children:"SAML-tracer Chrome extension"})," to inspect:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"SAML assertion is generated by SimpleSAMLphp"}),"\n",(0,t.jsxs)(n.li,{children:["Assertion includes ",(0,t.jsx)(n.code,{children:"email"})," attribute"]}),"\n",(0,t.jsx)(n.li,{children:"Response/Assertion is signed"}),"\n",(0,t.jsx)(n.li,{children:"POST goes to correct ACS URL"}),"\n",(0,t.jsx)(n.li,{children:"RelayState is preserved"}),"\n",(0,t.jsx)(n.li,{children:"Sequent validates and creates session"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"43-common-test-issues",children:"4.3 Common Test Issues"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:'Issue: "Identity Provider not found"'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Verify Sequent has configured your ",(0,t.jsx)(n.code,{children:"SP_IDP_ALIAS"})," correctly"]}),"\n",(0,t.jsx)(n.li,{children:"Check the metadata you provided matches"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:'Issue: "Signature validation failed"'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Verify Sequent has your correct ",(0,t.jsx)(n.code,{children:"server.crt"})," certificate"]}),"\n",(0,t.jsxs)(n.li,{children:["Check SimpleSAMLphp is signing (see ",(0,t.jsx)(n.code,{children:"metadata/saml20-idp-hosted.php"}),")"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:'Issue: "User not created"'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Verify ",(0,t.jsx)(n.code,{children:"email"})," attribute is in the assertion"]}),"\n",(0,t.jsx)(n.li,{children:"Check Sequent has configured email attribute mapping"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"step-5-understand-how-it-works",children:"Step 5: Understand How It Works"}),"\n",(0,t.jsx)(n.p,{children:"Now that you have it working, understand the implementation so you can adapt it."}),"\n",(0,t.jsx)(n.h3,{id:"51-centralized-configuration",children:"5.1 Centralized Configuration"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"File:"})," ",(0,t.jsx)(n.code,{children:".devcontainer/simplesamlphp/config.php"})]}),"\n",(0,t.jsx)(n.p,{children:"All configuration in one place, loaded from environment variables:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"<?php\nreturn [\n    // Your IdP configuration\n    'idp_base_url' => getenv('IDP_BASE_URL') ?: 'http://localhost:8083/simplesaml',\n\n    // Sequent provided values\n    'tenant_id' => getenv('TENANT_ID') ?: '...',\n    'event_id' => getenv('EVENT_ID') ?: '...',\n    'sp_base_url' => getenv('SP_BASE_URL') ?: 'https://login-example.sequent.vote',\n    'sp_idp_alias' => getenv('SP_IDP_ALIAS') ?: 'yourcompany-idp',\n    'sp_client_id' => getenv('SP_CLIENT_ID') ?: 'vp-sso',\n    'sp_cert_data' => getenv('SP_CERT_DATA') ?: 'MII...',\n    'voting_portal_url' => getenv('VOTING_PORTAL_URL') ?: 'https://voting-example.sequent.vote',\n\n    // Automatically computed\n    'sp_realm' => 'tenant-' . (getenv('TENANT_ID') ?: '...') . '-event-' . (getenv('EVENT_ID') ?: '...'),\n];\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Key takeaway:"})," All deployment-specific values come from environment variables. No hardcoding."]}),"\n",(0,t.jsx)(n.h3,{id:"52-service-provider-metadata",children:"5.2 Service Provider Metadata"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"File:"})," ",(0,t.jsx)(n.code,{children:".devcontainer/simplesamlphp/metadata/saml20-sp-remote.php"})]}),"\n",(0,t.jsx)(n.p,{children:"Shows how to configure Sequent as a trusted Service Provider:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"<?php\n$config = require __DIR__ . '/../config.php';\n\n// Build the ACS URL where Sequent receives SAML responses\n$acsUrl = sprintf(\n    '%s/realms/%s/broker/%s/endpoint/clients/%s',\n    $config['sp_base_url'],      // https://login-example.sequent.vote\n    $config['sp_realm'],          // tenant-...-event-...\n    $config['sp_idp_alias'],      // yourcompany-idp\n    $config['sp_client_id']       // vp-sso\n);\n\n// The Entity ID is the realm identifier\n$metadata[$config['sp_realm']] = [\n    'AssertionConsumerService' => [\n        [\n            'Binding' => 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST',\n            'Location' => $acsUrl\n        ],\n    ],\n    'certData' => $config['sp_cert_data'],  // Sequent's public certificate\n];\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Key takeaway:"})," The ACS URL follows a specific pattern. The SP Entity ID is the realm identifier (tenant-event combination)."]}),"\n",(0,t.jsx)(n.h3,{id:"53-idp-metadata",children:"5.3 IdP Metadata"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"File:"})," ",(0,t.jsx)(n.code,{children:".devcontainer/simplesamlphp/metadata/saml20-idp-hosted.php"})]}),"\n",(0,t.jsx)(n.p,{children:"Configures your IdP's behavior:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"<?php\n$config = require __DIR__ . '/../config.php';\n\n// Your IdP's Entity ID\n$entityId = rtrim($config['idp_base_url'], '/') . '/saml2/idp/metadata.php';\n\n$metadata[$entityId] = [\n    'privatekey' => 'server.pem',           // For signing\n    'certificate' => 'server.crt',          // Public certificate\n    'auth' => 'example-userpass',           // How users authenticate\n    'saml20.sign.response' => true,         // Sign SAML response\n    'saml20.sign.assertion' => true,        // Sign assertion\n];\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Key takeaway:"})," You must sign SAML responses/assertions. Your IdP needs a certificate."]}),"\n",(0,t.jsx)(n.h3,{id:"54-sso-trigger-page",children:"5.4 SSO Trigger Page"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"File:"})," ",(0,t.jsx)(n.code,{children:".devcontainer/simplesamlphp/public/idp-initiated-sso.php"})]}),"\n",(0,t.jsx)(n.p,{children:"Shows how to initiate the SSO flow:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"<?php\n$config = require __DIR__ . '/../config.php';\n\n// The SP Entity ID to target\n$spEntityId = $config['sp_realm'];\n\n// Where to redirect after authentication\n$finalRedirectUrl = sprintf(\n    '%s/tenant/%s/event/%s/login',\n    $config['voting_portal_url'],\n    $config['tenant_id'],\n    $config['event_id']\n);\n\n// Build SSO URL with parameters\n$ssoUrl = \"/simplesaml/saml2/idp/SSOService.php?\" . http_build_query([\n    'spentityid' => $spEntityId,        // Which SP to send to\n    'RelayState' => $finalRedirectUrl,  // Where to go after auth\n]);\n?>\n\n<a href=\"<?php echo htmlspecialchars($ssoUrl); ?>\">Login to Voting Portal</a>\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Key takeaway:"})," You need two parameters: ",(0,t.jsx)(n.code,{children:"spentityid"})," (the realm) and ",(0,t.jsx)(n.code,{children:"RelayState"})," (voting portal URL)."]}),"\n",(0,t.jsx)(n.h3,{id:"55-user-authentication-configuration",children:"5.5 User Authentication Configuration"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"File:"})," ",(0,t.jsx)(n.code,{children:".devcontainer/simplesamlphp/config/authsources.php"})]}),"\n",(0,t.jsx)(n.p,{children:"Shows how to configure test users (for the reference implementation only):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Parse SSP_EXAMPLE_USERS environment variable\n// Format: \"username1:password1:email1,username2:password2:email2,...\"\n$exampleUsersEnv = getenv('SSP_EXAMPLE_USERS') ?: 'user1:password:user1@example.com,user2:password:user2@example.com';\n$exampleUsers = [];\n\nforeach (explode(',', $exampleUsersEnv) as $userSpec) {\n    $parts = explode(':', trim($userSpec), 3);\n    if (count($parts) === 3) {\n        $username = $parts[0];\n        $password = $parts[1];\n        $email = $parts[2];\n        $exampleUsers[\"$username:$password\"] = [\n            'email' => $email,\n        ];\n    }\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Key takeaway:"})," Test users are configured via the ",(0,t.jsx)(n.code,{children:"SSP_EXAMPLE_USERS"})," environment variable. In production, your IdP will use its own authentication mechanism."]}),"\n",(0,t.jsx)(n.h3,{id:"56-saml-assertion-requirements",children:"5.6 SAML Assertion Requirements"}),"\n",(0,t.jsx)(n.p,{children:"Your IdP must generate assertions with:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Subject:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NameID"}),": User's email address"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NameID Format"}),": ",(0,t.jsx)(n.code,{children:"urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Conditions:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"AudienceRestriction"}),": Must be ",(0,t.jsx)(n.code,{children:"tenant-{TENANT_ID}-event-{EVENT_ID}"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NotBefore"})," / ",(0,t.jsx)(n.code,{children:"NotOnOrAfter"}),": 5-minute validity window"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Attributes:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"email"}),": User's email address (required)"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Signing:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Sign the Response and/or Assertion with RSA-SHA256 or stronger"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"SimpleSAMLphp handles this automatically when configured correctly."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"step-6-adapt-to-your-production-idp",children:"Step 6: Adapt to Your Production IdP"}),"\n",(0,t.jsx)(n.p,{children:"Now that you understand the reference implementation, adapt it to your production IdP."}),"\n",(0,t.jsx)(n.h3,{id:"for-adfs",children:"For ADFS"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Create a ",(0,t.jsx)(n.strong,{children:"Relying Party Trust"})," in ADFS"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Entity ID:"})," ",(0,t.jsx)(n.code,{children:"tenant-{TENANT_ID}-event-{EVENT_ID}"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"ACS URL:"})," ",(0,t.jsx)(n.code,{children:"{SP_BASE_URL}/realms/{SP_REALM}/broker/{SP_IDP_ALIAS}/endpoint/clients/{SP_CLIENT_ID}"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Claim Rules:"})," Map user email to SAML attribute named ",(0,t.jsx)(n.code,{children:"email"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Signing:"})," Enable signing with certificate"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"IdP-Initiated SSO:"})," Configure endpoint URL with ",(0,t.jsx)(n.code,{children:"spentityid"})," and ",(0,t.jsx)(n.code,{children:"RelayState"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"for-okta",children:"For Okta"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Create a ",(0,t.jsx)(n.strong,{children:"SAML 2.0 App Integration"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Single Sign-On URL:"})," Use ACS URL from above"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Audience URI:"})," ",(0,t.jsx)(n.code,{children:"tenant-{TENANT_ID}-event-{EVENT_ID}"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Attribute Statements:"})," Map email to ",(0,t.jsx)(n.code,{children:"email"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Enable IdP-Initiated SSO:"})," In app settings"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test:"})," Use Okta's IDP-initiated SSO URL with RelayState parameter"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"for-shibboleth",children:"For Shibboleth"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Configure ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"<RelyingParty>"})})," in ",(0,t.jsx)(n.code,{children:"relying-party.xml"})]}),"\n",(0,t.jsxs)(n.li,{children:["Set ",(0,t.jsx)(n.strong,{children:"entityID"})," to the realm identifier"]}),"\n",(0,t.jsxs)(n.li,{children:["Configure ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"<AttributeResolver>"})})," for email attribute"]}),"\n",(0,t.jsxs)(n.li,{children:["Set up ",(0,t.jsx)(n.strong,{children:"IdP-initiated SSO endpoint"})," with parameters"]}),"\n",(0,t.jsxs)(n.li,{children:["Configure ",(0,t.jsx)(n.strong,{children:"signing"})," in metadata"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"for-custom-idp",children:"For Custom IdP"}),"\n",(0,t.jsx)(n.p,{children:"Follow the patterns from the reference implementation:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Configuration:"})," Centralize all values (tenant ID, event ID, URLs)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Metadata:"})," Build ACS URL using the pattern shown"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Entity ID:"})," Use the realm identifier as SP Entity ID"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"SSO URL:"})," Include ",(0,t.jsx)(n.code,{children:"spentityid"})," and ",(0,t.jsx)(n.code,{children:"RelayState"})," parameters"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Assertion:"})," Include email attribute, sign response/assertion"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"POST:"})," Send to ACS URL with RelayState preserved"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"step-7-production-checklist",children:"Step 7: Production Checklist"}),"\n",(0,t.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","All URLs updated to production values"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","HTTPS enabled on all endpoints"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Production certificates exchanged"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Integration tested in staging environment first"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Email attribute mapping verified"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Signing enabled and tested"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","RelayState validation working"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Clock synchronization configured (NTP)"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Monitoring and logging enabled"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Go-live date coordinated with Sequent"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:'"SAML Response Signature Invalid"'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Sequent doesn't have your correct public certificate"}),"\n",(0,t.jsx)(n.li,{children:"You're not signing the response/assertion"}),"\n",(0,t.jsx)(n.li,{children:"Signing algorithm mismatch"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Fix:"})," Verify certificate exchange, check signing configuration"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:'"Invalid AudienceRestriction"'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Assertion audience doesn't match realm identifier"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Fix:"})," Ensure audience is exactly ",(0,t.jsx)(n.code,{children:"tenant-{TENANT_ID}-event-{EVENT_ID}"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:'"User Not Created / Email Missing"'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Email attribute not included in assertion"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Fix:"})," Verify email attribute is present and named ",(0,t.jsx)(n.code,{children:"email"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:'"RelayState Not Working"'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"RelayState not preserved through flow"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Fix:"})," Ensure IdP passes RelayState in SAML Response POST"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:'"Clock Skew Error"'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Time difference between servers"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Fix:"})," Configure NTP on all servers"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"debug-tools",children:"Debug Tools"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"SAML Tracer"})," (browser extension) - inspect SAML messages"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Sequent logs"})," - request from Sequent support"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Reference implementation"})," - compare with working SimpleSAMLphp"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"security-requirements",children:"Security Requirements"}),"\n",(0,t.jsx)(n.h3,{id:"critical",children:"Critical"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"HTTPS in production"})," (mandatory)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Sign all SAML messages"})," (response and/or assertion)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Validate signatures"})," (both sides)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Protect private keys"})," (never commit to git)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Certificate rotation"})," (monitor expiration)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Audience restriction"})," (include correct realm)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Time-based validation"})," (NotBefore/NotOnOrAfter)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Unique assertion IDs"})," (prevent replay)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"NTP synchronization"})," (prevent clock skew)"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"support",children:"Support"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Technical Questions:"})," ",(0,t.jsx)(n.a,{href:"mailto:support@sequentech.io",children:"support@sequentech.io"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Reference Implementation:"})," ",(0,t.jsx)(n.code,{children:".devcontainer/simplesamlphp/"})," in Step repository"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Integration Coordination:"})," Contact Sequent to schedule staging/production setup"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsx)(n.h3,{id:"what-you-did",children:"What You Did"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Got configuration values from Sequent"}),"\n",(0,t.jsx)(n.li,{children:"Set up SimpleSAMLphp reference implementation"}),"\n",(0,t.jsx)(n.li,{children:"Provided your metadata to Sequent"}),"\n",(0,t.jsx)(n.li,{children:"Tested integration end-to-end"}),"\n",(0,t.jsx)(n.li,{children:"Understood how the implementation works"}),"\n",(0,t.jsx)(n.li,{children:"Adapted patterns to your production IdP"}),"\n",(0,t.jsx)(n.li,{children:"Deployed to production"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"key-files-to-reference",children:"Key Files to Reference"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"config.php"})})," - Centralized configuration pattern"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"metadata/saml20-sp-remote.php"})})," - How to configure Sequent SP"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"metadata/saml20-idp-hosted.php"})})," - How to configure your IdP"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"public/idp-initiated-sso.php"})})," - How to initiate SSO"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"remember",children:"Remember"}),"\n",(0,t.jsxs)(n.p,{children:["You don't have to use SimpleSAMLphp in production. The reference implementation\nshows you the ",(0,t.jsx)(n.strong,{children:"patterns and configuration"})," that work with any SAML 2.0 IdP\nplatform. Adapt them to your technology stack."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var s=i(6540);const t={},r=s.createContext(t);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);