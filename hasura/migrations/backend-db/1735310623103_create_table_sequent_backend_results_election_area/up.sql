CREATE TABLE "sequent_backend"."results_election_area" ("id" uuid NOT NULL DEFAULT gen_random_uuid(), "tenant_id" uuid NOT NULL, "election_event_id" uuid NOT NULL, "election_id" uuid NOT NULL, "area_id" uuid NOT NULL, "results_event_id" uuid NOT NULL, "created_at" timestamptz NOT NULL DEFAULT now(), "last_updated_at" timestamptz NOT NULL DEFAULT now(), "documents" jsonb, PRIMARY KEY ("id","tenant_id","election_event_id","results_event_id") , FOREIGN KEY ("tenant_id", "election_event_id", "area_id") REFERENCES "sequent_backend"."area"("tenant_id", "election_event_id", "id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("election_event_id") REFERENCES "sequent_backend"."election_event"("id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("tenant_id", "election_event_id", "results_event_id") REFERENCES "sequent_backend"."results_event"("tenant_id", "election_event_id", "id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("tenant_id", "election_event_id", "election_id") REFERENCES "sequent_backend"."election"("tenant_id", "election_event_id", "id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("tenant_id") REFERENCES "sequent_backend"."tenant"("id") ON UPDATE restrict ON DELETE restrict, UNIQUE ("id"));
CREATE EXTENSION IF NOT EXISTS pgcrypto;
