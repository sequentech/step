CREATE TABLE "sequent_backend"."results_area_contest" ("id" uuid NOT NULL DEFAULT gen_random_uuid(), "tenant_id" uuid NOT NULL, "election_event_id" uuid NOT NULL, "election_id" uuid NOT NULL, "contest_id" uuid NOT NULL, "area_id" uuid NOT NULL, "results_event_id" uuid NOT NULL, "elegible_census" integer, "total_valid_votes" integer, "explicit_invalid_votes" integer, "implicit_invalid_votes" integer, "blank_votes" integer, PRIMARY KEY ("id","tenant_id","election_event_id","election_id","contest_id","area_id") , FOREIGN KEY ("tenant_id") REFERENCES "sequent_backend"."tenant"("id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("election_event_id") REFERENCES "sequent_backend"."election_event"("id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("tenant_id", "id", "election_event_id") REFERENCES "sequent_backend"."election"("tenant_id", "id", "election_event_id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("contest_id", "tenant_id", "election_event_id") REFERENCES "sequent_backend"."contest"("id", "tenant_id", "election_event_id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("area_id", "tenant_id", "election_event_id") REFERENCES "sequent_backend"."area"("id", "tenant_id", "election_event_id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("results_event_id", "tenant_id", "election_event_id") REFERENCES "sequent_backend"."results_event"("id", "tenant_id", "election_event_id") ON UPDATE restrict ON DELETE restrict);
CREATE EXTENSION IF NOT EXISTS pgcrypto;
