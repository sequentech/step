CREATE TABLE "sequent_backend"."tally_session_contest_vote_error" ("id" uuid NOT NULL DEFAULT gen_random_uuid(), "tenant_id" uuid NOT NULL, "election_event_id" uuid NOT NULL, "contest_id" uuid NOT NULL, "tally_session_id" uuid NOT NULL, "area_id" uuid NOT NULL, "cast_vote_id" uuid NOT NULL, "error" text NOT NULL, "created_at" timestamptz DEFAULT now(), "labels" jsonb, "annotations" jsonb, "tally_session_contest_id" uuid NOT NULL, PRIMARY KEY ("id","tenant_id","election_event_id") , FOREIGN KEY ("area_id", "tenant_id", "election_event_id") REFERENCES "sequent_backend"."area"("id", "tenant_id", "election_event_id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("contest_id", "tenant_id", "election_event_id") REFERENCES "sequent_backend"."contest"("id", "tenant_id", "election_event_id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("election_event_id") REFERENCES "sequent_backend"."election_event"("id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("tally_session_id", "tenant_id", "election_event_id") REFERENCES "sequent_backend"."tally_session"("id", "tenant_id", "election_event_id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("tally_session_contest_id", "tenant_id", "election_event_id") REFERENCES "sequent_backend"."tally_session_contest"("id", "tenant_id", "election_event_id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("cast_vote_id", "tenant_id", "election_event_id") REFERENCES "sequent_backend"."cast_vote"("id", "tenant_id", "election_event_id") ON UPDATE restrict ON DELETE restrict);
CREATE EXTENSION IF NOT EXISTS pgcrypto;
