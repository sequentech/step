actions:
  - name: helloWorld
    definition:
      kind: ""
      handler: http://127.0.0.1:8000/hello-world
      request_transform:
        body:
          action: transform
          template: "$body.input \n"
        template_engine: Kriti
        version: 2
  - name: renderTemplate
    definition:
      kind: synchronous
      handler: http://templates:8400/render-template
      forward_client_headers: true
      headers:
        - name: X-Hasura-Admin-Secret
          value_from_env: ACTIONS_ADMIN_SECRET
      request_transform:
        body:
          action: transform
          template: "{\n  \"template\": {{$body.input.template}},\n  \"tenant_id\": {{$body.input.tenant_id}},\n  \"format\": {{$body.input.format}}\n  \n}"
        template_engine: Kriti
        version: 2
    permissions:
      - role: admin-user
    comment: render template
custom_types:
  enums: []
  input_objects:
    - name: InputParams
    - name: TemplateInput
  objects:
    - name: TemplateOutput
  scalars: []
